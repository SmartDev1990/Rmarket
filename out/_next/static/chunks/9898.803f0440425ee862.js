"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9898],{29898:function(e,t,l){l.r(t),l.d(t,{default:function(){return ye}});var n=l(66240),o=l(95985),r=l(67294),a=l(53918),i=(0,n.a)((function(){const{config:e,active:t,custom:l}=(0,n.r)(),{tools:a}=e,i=t.tool,c=t=>e.locale[t].title,s=l.getBasicToolbar();return s?r.createElement(s,{show:!!i},a.map(((l,a)=>l&&r.createElement(n.O.Toolbar.Item,{onClick:()=>t.selectTool(l),key:l,label:c(l),isActive:i===l,isDisabled:!(t.image||l===o.E.LIBRARY||l===o.E.CUSTOM)},(t=>{const l=e.state.config[t];if("icon"in l){const e=l.icon;return r.createElement(e,null)}const o=n.t[t];return r.createElement(o,null)||null})(l))||r.createElement(n.O.Toolbar.Separator,{key:l+a,active:!!i})))):null})),c=(0,n.c)("adjustmentsTool","custom")((0,n.a)((({adjustmentsTool:e,custom:t})=>{const l=e.selectedAdjustmentType.toLowerCase(),a=e[l],i=(0,r.useRef)(!1),c=(0,r.useRef)(a),s=t.getButton("toolControlBarSecondaryButton"),m=t=>{i.current&&t!==c.current&&(e.toolSnapshot(),i.current=!1,c.current=t)};return r.createElement(n.O.ControlsbarContainer,{show:Boolean(l)},s&&r.createElement(s,{tool:o.E.ADJUSTMENT,ariaLabel:e.locale.controls.buttonReset,onClick:e.reset,icon:r.createElement(n.v.reset,null),label:e.locale.controls.buttonReset}),r.createElement(n.O.Other.ControlsWrapper,null,r.createElement(n.o.Spacer,{count:2}),r.createElement(n.O.Slider,{"aria-hidden":!l,adjust:!0,style:{width:"280px"},label:e.selectedOptionLabel,value:a,onChange:t=>{e.editAdjustments({type:l,value:t}),i.current=a!==t},onMouseUp:m,onTouchEnd:m,snap:0}),r.createElement(n.o.Spacer,{count:2}),r.createElement(n.O.BarSeparator,null)),r.createElement(n.O.Other.EmptyDiv,null))}))),s=(0,n.a)((()=>{const{brushTool:e}=(0,n.r)(),{colorList:t,locale:l,localeColor:a}=e,i=l.controls,c=a.colorPicker;return r.createElement(r.Fragment,null,r.createElement(n.o.Input.Selection,{showLabel:!1,label:i.selectColor},r.createElement(n.E,{tool:o.E.BRUSH,activeColor:e.color,colors:t,labelsColor:c,colorPickerDirection:"top",onChange:e.changeColor})))})),m=(0,n.a)((()=>{const{brushTool:e}=(0,n.r)(),{locale:t}=e,l=t.controls;return r.createElement(n.O.Slider,{"data-test":o.Sa.BrushHardness,style:{width:"280px"},showLabel:!1,label:l.sliderHardness,value:e.hardness,min:0,max:1,onChange:e.changeHardness})})),u=(0,n.a)((()=>{const{brushTool:e}=(0,n.r)(),{locale:t}=e,l=t.controls;return r.createElement(n.O.Slider,{"data-test":o.Sa.BrushSize,style:{width:"280px"},showLabel:!1,label:l.sliderSize,value:e.relativeSize,min:1,max:100,divider:1,onChange:e.changeRelativeSize})})),d=n.O.TabWrapper,{Tab:E}=n.O,h=(0,n.a)((()=>{const{brushTool:e,custom:t}=(0,n.r)(),{locale:l,config:a}=e,{basicUIToolControlBarTabsOrder:i}=a,c=l.controls,h=t.getButton("toolControlBarSecondaryButton");return r.createElement(n.O.ControlsbarContainer,{style:{justifyContent:"center"},show:!0},h&&r.createElement(h,{tool:o.E.BRUSH,ariaLabel:c.buttonReset,onClick:e.reset,icon:r.createElement(n.v.reset,null),isDisabled:!e.isDirty,label:c.buttonReset}),r.createElement(n.O.Other.ControlsWrapper,null,r.createElement(n.o.Input.Form,null,r.createElement(d,null,i.map((e=>(e=>{switch(e){case o.Ba.BrushColor:return r.createElement(E,{key:e,label:c.tabColor},r.createElement(s,null));case o.Ba.BrushSize:return r.createElement(E,{key:e,label:c.tabSize},r.createElement(u,null));case o.Ba.BrushHardness:return r.createElement(E,{key:e,label:c.tabHardness},r.createElement(m,null));default:return null}})(e)))))))})),p=(0,n.a)((()=>{const{filterTool:e}=(0,n.r)(),{state:t}=e,l=e.locale.controls,o=()=>{e.toolSnapshot()};return r.createElement(n.O.Other.ControlsWrapper,null,r.createElement(n.o.Spacer,{count:2}),r.createElement(n.O.Slider,{"aria-hidden":!e.isOptionSelected,style:{width:"280px"},label:l.sliderIntensity,value:t.intensity,min:0,max:1,onMouseUp:o,onTouchEnd:o,onChange:e.changeIntensity,snap:t.isDuotone?.5:null}),r.createElement(n.o.Spacer,{count:2}),r.createElement(n.O.BarSeparator,null))})),C=(0,n.a)((()=>{const{filterTool:e,custom:t}=(0,n.r)(),{config:l}=e,{basicUIToolControlBarTabsOrder:a}=l,i=t.getButton("toolControlBarSecondaryButton");return r.createElement(n.O.ControlsbarContainer,{show:e.isOptionSelected},i&&r.createElement(i,{tool:o.E.FILTER,ariaLabel:e.locale.controls.buttonReset,onClick:e.reset,icon:r.createElement(n.v.reset,null),label:e.locale.controls.buttonReset}),a.map((e=>(e=>e===o.X.FilterIntensity?r.createElement(p,{key:e}):null)(e))),r.createElement(n.O.Other.EmptyDiv,null))})),b=(0,n.a)((()=>{const{focusTool:e,custom:t}=(0,n.r)(),l=e.locale.controls,a=t.getButton("toolControlBarSecondaryButton"),i=()=>{e.toolSnapshot(l.sliderIntensity)};return r.createElement(n.O.ControlsbarContainer,{show:e.isOptionSelected},a&&r.createElement(a,{tool:o.E.FOCUS,ariaLabel:l.buttonReset,onClick:e.reset,icon:r.createElement(n.v.reset,null),label:l.buttonReset}),r.createElement(n.O.Other.ControlsWrapper,null,r.createElement(n.o.Spacer,{count:2}),r.createElement(n.O.Slider,{"aria-hidden":!e.isOptionSelected,style:{width:"280px"},label:l.sliderIntensity,value:e.relativeIntensity,min:0,max:100,divider:1,onChange:e.changeRelativeIntensity,onMouseUp:i,onTouchEnd:i}),r.createElement(n.o.Spacer,{count:2}),r.createElement(n.O.BarSeparator,null)),r.createElement(n.O.Other.EmptyDiv,null))})),g=(0,n.a)((()=>{const{frameTool:e}=(0,n.r)(),t=e.locale.controls,l=e.localeColor.colorPicker,{colorList:a}=e;return r.createElement(n.o.Input.Selection,{label:t.selectColor,showLabel:!1},r.createElement(n.E,{tool:o.E.FRAME,activeColor:e.color,colors:a,labelsColor:l,colorPickerDirection:"top",onChange:e.changeColor,onAddSnapshot:e.colorSnapshot}))})),y=(0,n.a)((()=>{const{frameTool:e}=(0,n.r)(),t=e.locale.controls,l=()=>{e.toolSnapshot(t.sliderOpacity)};return r.createElement(n.O.Slider,{"aria-hidden":!e.isOptionSelected,showLabel:!1,style:{width:"280px"},label:t.sliderOpacity,value:e.opacity,min:0,max:1,onChange:e.changeOpacity,onMouseUp:l,onTouchEnd:l})})),S=(0,n.a)((()=>{const{frameTool:e}=(0,n.r)(),t=e.locale.controls,l=()=>{e.toolSnapshot(t.sliderSize)};return r.createElement(n.O.Slider,{"aria-hidden":!e.isOptionSelected,showLabel:!1,style:{width:"280px"},label:t.sliderSize,value:e.size,min:e.minSize,max:e.maxSize,divider:1,onChange:e.changeWidth,onMouseUp:l,onTouchEnd:l})})),f=n.O.TabWrapper,{Tab:T}=n.O,O=(0,n.a)((()=>{const{frameTool:e,custom:t}=(0,n.r)(),l=e.locale.controls,{tintable:a,config:i}=e,{basicUIToolControlBarTabsOrder:c}=i,s=t.getButton("toolControlBarSecondaryButton");return r.createElement(n.O.ControlsbarContainer,{show:e.isOptionSelected},s&&r.createElement(s,{tool:o.E.FRAME,ariaLabel:l.buttonReset,onClick:e.reset,icon:r.createElement(n.v.reset,null),label:l.buttonReset}),r.createElement(n.O.Other.ControlsWrapper,null,r.createElement(n.o.Spacer,null),r.createElement(f,null,c.map((e=>(e=>{switch(e){case o.ga.FrameOpacity:return r.createElement(T,{key:e,label:l.tabOpacity},r.createElement(y,null));case o.ga.FrameSize:return r.createElement(T,{key:e,label:l.tabSize},r.createElement(S,null));case o.ga.FrameColor:return a&&r.createElement(T,{key:e,label:l.tabColor},r.createElement(g,null));default:return null}})(e)))),r.createElement(n.O.BarSeparator,null)),r.createElement(n.O.Other.EmptyDiv,null))})),k=(0,a.ZP)(n.O.ControlsbarContainer)`
  ${e=>e.firstChildMargin&&a.iv`
      > :first-child {
        margin-right: 16px;
      }
    `}
`,I=(0,n.c)("library","active","custom")((0,n.a)((({library:e,active:t,custom:l})=>{const a=e.locale.controls.placeholderSearch,{config:i}=e,c=l.getButton("toolControlBarPrimaryButton");return r.createElement(k,{firstChildMargin:i.enableWebcam&&!e.libraryProvider,show:!0},i.enableUpload&&c&&r.createElement(c,{tool:o.E.LIBRARY,"data-test":o.Sa.LibraryUploadButton,ariaLabel:e.locale.controls.buttonUpload,onClick:()=>{const e=document.getElementById("fileUpload");e&&e.click()},icon:r.createElement(n.v.uploadImage,null),label:e.locale.controls.buttonUpload},r.createElement(n.o.Input.File,{onChange:e=>{const{files:l}=e.target;if(l.length){const e=new FileReader;e.onload=e=>{t.newImage(e.target.result)},e.readAsDataURL(l[0])}}})),e.libraryProvider&&r.createElement(n.O.Other.ControlsWrapper,null,r.createElement(n.o.Input.Search,{onChange:t=>{e.fetchImages(t)},placeholder:a})),i.enableWebcam&&r.createElement(n.M,{tool:o.E.LIBRARY,onClick:()=>{t.selectWebcam(!0)},icon:r.createElement(n.v.openWebcam,null),label:e.locale.controls.buttonWebcamOpen}),r.createElement(n.O.BarSeparator,null))}))),v=(0,n.a)((()=>{const{overlayTool:e}=(0,n.r)(),t=e.locale.controls,{blendMode:l,allBlendModes:o}=e;return r.createElement(n.o.Input.CarouselSlider,{showLabel:!1,label:t.carouselBlendMode,defaultIdentifier:l,onSelect:t=>{e.changeBlendMode(t)},list:o})})),B=(0,n.a)((()=>{const{overlayTool:e}=(0,n.r)(),t=e.locale.controls,{state:l}=e,o=()=>{e.toolSnapshot()};return r.createElement(n.O.Slider,{"aria-hidden":!e.isOptionSelected,showLabel:!1,style:{width:"280px"},label:t.sliderOpacity,value:l.opacity,min:0,max:1,onChange:e.changeOpacity,onMouseUp:o,onTouchEnd:o})})),x=n.O.TabWrapper,{Tab:R}=n.O,w=(0,n.a)((()=>{const{overlayTool:e,custom:t}=(0,n.r)(),{config:l}=e,{basicUIToolControlBarTabsOrder:a}=l,i=e.locale.controls,c=t.getButton("toolControlBarSecondaryButton");return r.createElement(n.O.ControlsbarContainer,{show:e.isOptionSelected},c&&r.createElement(c,{tool:o.E.OVERLAY,ariaLabel:i.buttonReset,onClick:e.reset,icon:r.createElement(n.v.reset,null),label:i.buttonReset}),r.createElement(n.O.Other.ControlsWrapper,null,r.createElement(n.o.Spacer,null),r.createElement(x,null,a.map((e=>(e=>{switch(e){case o.oa.OverlayBlendMode:return r.createElement(R,{key:e,label:i.tabBlendMode},r.createElement(v,null));case o.oa.OverlayOpacity:return r.createElement(R,{key:e,label:i.tabOpacity},r.createElement(B,null));default:return null}})(e)))),r.createElement(n.O.BarSeparator,null)),r.createElement(n.O.Other.EmptyDiv,null))})),D=(0,n.a)((()=>{const{stickerTool:e}=(0,n.r)(),t=e.locale.controls,l=e.localeColor.colorPicker,{colorList:a}=e;return r.createElement(r.Fragment,null,r.createElement(n.o.Input.Selection,{isDisabled:!e.isStickerSelected,showLabel:!1,label:t.selectColor},r.createElement(n.E,{tool:o.E.STICKER,activeSprite:e.id,activeColor:e.tintColor,colors:a,labelsColor:l,isDisabled:!e.isStickerSelected,colorPickerDirection:"top",onChange:e.changeTintColor,onAddSnapshot:e.tintColorSnapshot})))})),L=(0,n.a)((()=>{const{stickerTool:e}=(0,n.r)(),t=e.locale.controls,l=()=>{e.toolSnapshot()};return r.createElement(n.O.Slider,{isDisabled:!e.isStickerSelected,showLabel:!1,style:{width:"280px"},label:t.sliderOpacity,value:e.opacity,min:0,max:1,onMouseUp:l,onTouchEnd:l,onChange:e.changeOpacity})})),U=n.O.TabWrapper,{Tab:M}=n.O,A=a.ZP.input.attrs({type:"file",id:"fileUpload",accept:"image/*",multiple:!0})`
  ${n.n.VisuallyHidden}
`,$=(0,n.a)((()=>{const{stickerTool:e,custom:t}=(0,n.r)(),{config:l}=e,{basicUIToolControlBarTabsOrder:a}=l,i=e.locale.controls,c=t.getButton("toolControlBarPrimaryButton"),s=()=>{const e=document.getElementById("fileUpload");e&&(e.value=null,e.click())},m=t=>{const{files:l}=t.target;e.addFiles(l)};return r.createElement(n.O.ControlsbarContainer,{show:!0},e.isCustomStickerEnabled&&c?r.createElement(c,{tool:o.E.STICKER,ariaLabel:i.buttonUpload,onClick:s,icon:r.createElement(n.v.uploadImage,null),label:i.buttonUpload},r.createElement(A,{onChange:m})):null,r.createElement(n.O.Other.ControlsWrapper,null,r.createElement(U,null,a.map((t=>(t=>{switch(t){case o.ta.StickerColor:return e.tintable?r.createElement(M,{key:t,label:i.tabColor},r.createElement(D,null)):null;case o.ta.StickerOpacity:return r.createElement(M,{key:t,label:i.tabOpacity},r.createElement(L,null));default:return null}})(t)))),r.createElement(n.O.BarSeparator,null)),r.createElement(n.O.Other.EmptyDiv,null))})),F=(0,n.a)((()=>{const{textTool:e}=(0,n.r)(),{backgroundColorList:t}=e,l=e.locale.controls,a=e.localeColor.colorPicker;return r.createElement(n.o.Input.Selection,{isDisabled:!e.isTextSelected,showLabel:!1,label:l.selectBackgroundColor},r.createElement(n.E,{tool:o.E.TEXT,activeSprite:e.id,activeColor:e.backgroundColor,colors:t,labelsColor:a,colorPickerDirection:"top",isDisabled:!e.isTextSelected,onChange:e.changeBackgroundColor,onAddSnapshot:e.backgroundColorSnapshot}))})),W=(0,a.ZP)(n.o.Input.NumericInput)`
  max-width: 55px;
  > div > input {
    text-align: center;
  }
`,P=(0,n.a)((()=>{const{textTool:e}=(0,n.r)();return r.createElement(W,{value:e.fontSize.toFixed(0),onSubmit:t=>{const l=t?parseFloat(t):0;e.setFontSize(Math.max(10,Math.min(690,l)))},isDisabled:!e.isTextSelected})})),N=(0,n.a)((()=>{const{textTool:e}=(0,n.r)(),t=e.locale.controls,l=()=>{e.toolSnapshot()};return r.createElement(n.O.Slider,{isDisabled:!e.isTextSelected,showLabel:!1,label:t.sliderLineSpacing,value:e.lineHeight,min:.5,max:3,onChange:e.changeLineHeight,onMouseUp:l,onTouchEnd:l,snap:1,divider:1,decimal:1})})),G=(0,n.a)((()=>{const{textTool:e,custom:t}=(0,n.r)(),l=e.locale.controls,a=t.getButton("textAlignment");return r.createElement(n.o.Input.Selection,{isDisabled:!e.isTextSelected,showLabel:!1,label:l.selectAlignment,"data-test":o.Sa.TextAlignment},["left","center","right"].map((t=>{const l=n.u[t];return r.createElement(a,{tool:t,isDisabled:!e.isTextSelected,ariaLabel:`Align ${t}`,isActive:t===e.alignment,key:t,icon:r.createElement(l,null),onClick:()=>e.changeAlignment(t)})})))})),z=(0,n.a)((()=>{const{textTool:e}=(0,n.r)(),{colorList:t}=e,l=e.locale.controls,a=e.localeColor.colorPicker;return r.createElement(n.o.Input.Selection,{isDisabled:!e.isTextSelected,showLabel:!1,label:l.selectFontColor},r.createElement(n.E,{tool:o.E.TEXT,activeSprite:e.id,activeColor:e.textColor,colors:t,labelsColor:a,colorPickerDirection:"top",isDisabled:!e.isTextSelected,onChange:e.changeColor,onAddSnapshot:e.colorSnapshot}))})),H=n.O.ResponsiveTabWrapper,X=(0,n.a)((()=>{const{textTool:e,custom:t}=(0,n.r)(),{config:l}=e,{basicUIToolControlBarTabsOrder:a}=l,i=e.locale.controls,c=t.getButton("toolControlBarPrimaryButton");return r.createElement(n.O.ControlsbarContainer,{show:!0},r.createElement(c,{tool:o.E.TEXT,ariaLabel:i.buttonNew,onClick:e.add,icon:r.createElement(n.v.addText,null),label:i.buttonNew}),r.createElement(n.O.Other.ControlsWrapper,null,r.createElement(n.o.Spacer,null),r.createElement(H,null,a.map((e=>(e=>{switch(e){case o.wa.FontSize:return r.createElement(n.N,{key:e,label:i.tabFontSize},r.createElement(P,null));case o.wa.TextAligment:return r.createElement(n.N,{key:e,label:i.tabAlignment},r.createElement(G,null));case o.wa.TextColor:return r.createElement(n.N,{key:e,label:i.tabColor},r.createElement(z,null));case o.wa.BackgroundColor:return r.createElement(n.N,{key:e,label:i.tabBgColor},r.createElement(F,null));case o.wa.LineSpacing:return r.createElement(n.N,{key:e,label:i.tabLineHeight},r.createElement(N,null));default:return null}})(e)))),r.createElement(n.O.BarSeparator,null)),r.createElement(n.O.Other.EmptyDiv,null))})),_=(0,n.c)("textDesignTool","custom")((0,n.a)((({textDesignTool:e,custom:t})=>{const l=e.locale.controls,a=e.localeColor.colorPicker,{colorList:i}=e,c=t.getButton("toolControlBarSecondaryButton"),s=t.getButton("toolControlBarPrimaryButton");return r.createElement(n.O.ControlsbarContainer,{show:!0},s&&r.createElement(s,{tool:o.E.TEXT_DESIGN,ariaLabel:l.buttonNew,onClick:e.add,icon:r.createElement(n.v.addText,null),label:l.buttonNew}),r.createElement(n.O.Other.ControlsWrapper,null,r.createElement(n.o.Input.Selection,{isDisabled:!e.isTextDesignSelected,label:l.selectColor},r.createElement(n.E,{tool:o.E.TEXT_DESIGN,activeSprite:e.id,activeColor:e.color,colors:i,labelsColor:a,colorPickerDirection:"top",isDisabled:!e.isTextDesignSelected,onChange:e.changeColor,onAddSnapshot:e.colorSnapshot}))),c&&r.createElement(c,{tool:o.E.TEXT_DESIGN,ariaLabel:l.buttonShuffle,onClick:e.changeSeed,icon:r.createElement(n.v.shuffle,null),label:l.buttonShuffle}),r.createElement(n.O.BarSeparator,null))}))),Y=(0,n.a)((()=>{const{transformTool:e}=(0,n.r)(),t=e.locale.controls,{forceDimensions:l}=e;return r.createElement(n.J,{isDisabled:l,showLabel:!1,valueHeight:e.localOutputHeight,valueWidth:e.localOutputWidth,onSubmitWidth:e.onPixelWidth,onSubmitHeight:e.onPixelHeight,label:t.inputCropSize,labelHeight:t.inputHeight,labelWidth:t.inputWidth})})),j=()=>r.createElement(n.F,null),Z=(0,n.a)((()=>{const{transformTool:e,custom:t}=(0,n.r)(),l=e.locale.controls,{forceDimensions:a}=e,i=t.getCheckbox();return i?r.createElement(i,{tool:o.E.TRANSFORM,isDisabled:a,style:{paddingTop:"5px",justifyContent:"center"},value:e.lockResolution,checkMarkPosition:"left",label:l.checkboxKeepResolution,onClick:e.changeLockResolution}):null})),K=n.O.ResponsiveTabWrapper,{Tab:J}=n.O,V=(0,n.a)((()=>{const{transformTool:e,custom:t}=(0,n.r)(),{config:l}=e,{basicUIToolControlBarTabsOrder:a}=l,i=e.locale.controls,c=t.getButton("toolControlBarSecondaryButton");return r.createElement(n.O.ControlsbarContainer,{show:!0},c&&r.createElement(c,{tool:o.E.TRANSFORM,ariaLabel:e.locale.controls.buttonReset,onClick:e.reset,icon:r.createElement(n.v.reset,null),label:e.locale.controls.buttonReset}),r.createElement(n.O.Other.ControlsWrapper,null,r.createElement(n.o.Spacer,null),r.createElement(K,null,a.map((e=>(e=>{switch(e){case o.Ga.FlipRotate:return r.createElement(J,{key:e,label:i.tabFlipAndRotate},r.createElement(j,null));case o.Ga.Resolution:return r.createElement(J,{key:e,label:i.tabResolution},r.createElement(Z,null));case o.Ga.CropSize:return r.createElement(J,{key:e,label:i.tabCropSize},r.createElement(Y,null));default:return null}})(e)))),r.createElement(n.O.BarSeparator,null)),r.createElement(n.O.Other.EmptyDiv,null))})),q=(0,n.a)((function(){const{active:e,custom:t}=(0,n.r)(),l=e.tool,a=t.getBasicToolControlBar();return a?r.createElement(a,{show:!!l},r.createElement(n.o.Switch.Index,{type:l},r.createElement(n.o.Switch.Case,{value:o.E.FILTER},r.createElement(C,null)),r.createElement(n.o.Switch.Case,{value:o.E.FOCUS},r.createElement(b,null)),r.createElement(n.o.Switch.Case,{value:o.E.ADJUSTMENT},r.createElement(c,null)),r.createElement(n.o.Switch.Case,{value:o.E.OVERLAY},r.createElement(w,null)),r.createElement(n.o.Switch.Case,{value:o.E.STICKER},r.createElement($,null)),r.createElement(n.o.Switch.Case,{value:o.E.TEXT},r.createElement(X,null)),r.createElement(n.o.Switch.Case,{value:o.E.TEXT_DESIGN},r.createElement(_,null)),r.createElement(n.o.Switch.Case,{value:o.E.LIBRARY},r.createElement(I,null)),r.createElement(n.o.Switch.Case,{value:o.E.FRAME},r.createElement(O,null)),r.createElement(n.o.Switch.Case,{value:o.E.BRUSH},r.createElement(h,null)),r.createElement(n.o.Switch.Case,{value:o.E.TRANSFORM},r.createElement(V,null)))):null})),Q=a.ZP.div`
  position: relative;
  top: -8px;
  color: ${e=>e.theme.card.foreground};
`,ee=(0,n.c)("adjustmentsTool")((0,n.a)((({adjustmentsTool:e})=>r.createElement(n.O.CardContainer,null,e.items.map(((t,l)=>{const a=n.x[t.identifier];return r.createElement(n.O.Card,{"data-test":t.identifier,tool:o.E.ADJUSTMENT,type:o.G.MEDIUM,onClick:()=>e.toggleOptionSelection(t.identifier),isActive:t.identifier===e.selectedAdjustmentType,key:`${t.identifier}-${l}`,label:t.name,style:{animationDelay:`${(0,o.Wa)(l)}s`}},r.createElement(Q,null,r.createElement(a,null)),r.createElement(n.O.CardLabel,null,e.locale.items[t.identifier]||t.name))})))))),te=()=>{const{config:e}=(0,n.r)(),t=e.state.config[o.E.CUSTOM].toolControlBar;return r.createElement(t,{language:e.state.locale[o.E.CUSTOM]})},le=class extends r.Component{constructor(){super(...arguments),this.onCategoryClick=e=>{const{filterTool:t}=this.props;t.toggleCategorySelection(e)},this.renderItem=(e,t)=>{const{filterTool:l}=this.props;return r.createElement(n.O.Card,{tool:o.E.FILTER,type:o.G.MEDIUM,onClick:()=>l.selectFilter(e.identifier,e.defaultIntensity),isActive:l.identifier===e.identifier,key:`${e.identifier}-${t}`,image:e.thumbnailURI,label:e.name,style:{animationDelay:`${(0,o.Wa)(t)}s`}},r.createElement(n.O.CardLabel,{withBackground:!0},l.locale.categories[e.identifier]||l.locale.items[e.identifier]||e.name))},this.renderCategory=(e,t)=>{const{filterTool:l}=this.props,{selectedCategoryIdentifier:a}=l,i=a===e.identifier;return e.items?r.createElement(n.O.CategoryContainer,{key:e.identifier},r.createElement(n.O.Card,{tool:o.E.FILTER,type:o.G.LARGE,onClick:()=>this.onCategoryClick(e.identifier),image:e.thumbnailURI,label:e.name,style:{animationDelay:`${(0,o.Wa)(t)}s`}},r.createElement(n.O.CardLabel,{withBackground:!0},e.name)),r.createElement(n.O.ExpandableContainer,{show:i},e.items.map(this.renderItem))):null}}render(){const{filterTool:e}=this.props,{categories:t,config:l,items:o}=e;return l.flattenCategories?r.createElement(n.O.CardContainer,null,o.map(this.renderItem)):r.createElement(n.O.CardContainer,null,t.map(this.renderCategory))}};le=(0,o.c)([(0,n.c)("filterTool","active"),n.a],le);var ne=(0,n.c)("focusTool")((0,n.a)((({focusTool:e})=>r.createElement(n.O.CardContainer,null,e.items.map(((t,l)=>r.createElement(n.O.Card,{isActive:t.identifier===e.identifier,tool:o.E.FOCUS,type:o.G.MEDIUM,onClick:()=>(t=>{e.selectFocus(t)})(t.identifier),key:`${t.identifier}-${l}`,image:t.thumbnailURI,label:t.name,style:{animationDelay:`${(0,o.Wa)(l)}s`}},r.createElement(n.O.CardLabel,{withBackground:!0},e.locale.items[t.identifier]||t.name)))))))),oe=(0,n.c)("frameTool")((0,n.a)((({frameTool:e})=>{const t=e.identifier;return r.createElement(n.O.CardContainer,null,e.items.map(((l,a)=>r.createElement(n.O.Card,{tool:o.E.FRAME,type:o.G.MEDIUM,onClick:()=>e.selectFrame(l.identifier),isActive:l.identifier===t,key:`${l.identifier}-${a}`,image:l.thumbnailURI,label:l.name,style:{animationDelay:`${(0,o.Wa)(a)}s`,backgroundSize:"60%"}}," ",r.createElement(n.O.CardLabel,{hidden:!0},e.locale.items[l.identifier]||l.name)))))}))),re=a.ZP.p`
  height: ${e=>e.theme.measurements.basicUIToolControlBar.itemsBarHeight}px;
`,ae=class extends r.Component{constructor(){super(...arguments),this.onCategoryClick=e=>{const{library:t}=this.props;t.toggleCategorySelection(e)},this.renderItem=(e,t)=>{const{active:l}=this.props;return r.createElement(n.O.Card,{tool:o.E.LIBRARY,type:o.G.MEDIUM,onClick:()=>l.newImage(e.rawUrl),key:`${e.identifier}-${t}`,image:e.thumbnailURI,label:e.name,style:{animationDelay:`${(0,o.Wa)(t)}s`}})},this.renderCategory=(e,t)=>{const{library:l}=this.props,{selectedCategoryIdentifier:a}=l,i=a===e.identifier;return e.items?r.createElement(n.O.CategoryContainer,{key:e.identifier},r.createElement(n.O.Card,{tool:o.E.LIBRARY,type:o.G.LARGE,onClick:()=>this.onCategoryClick(e.identifier),image:e.thumbnailURI,label:e.name,style:{animationDelay:`${(0,o.Wa)(t)}s`}},r.createElement(n.O.CardLabel,{withBackground:!0},e.name)),r.createElement(n.O.ExpandableContainer,{show:i},e.items.map(this.renderItem))):null}}render(){const{library:e}=this.props,{query:t,categories:l,items:a,locale:i,config:c}=e;return t?a.length?r.createElement(n.O.CardContainer,null,a.map(this.renderItem)):r.createElement(re,{"data-test":o.Sa.NoResult},i.controls.noResults):c.flattenCategories?r.createElement(n.O.CardContainer,null,a.map(this.renderItem)):r.createElement(n.O.CardContainer,null,l.map(this.renderCategory))}};ae=(0,o.c)([(0,n.c)("library","active"),n.a],ae);var ie=(0,n.c)("overlayTool")((0,n.a)((({overlayTool:e})=>{const{identifier:t,items:l,selectOverlay:a,locale:i}=e;return r.createElement(n.O.CardContainer,null,l.map(((e,l)=>r.createElement(n.O.Card,{tool:o.E.OVERLAY,type:o.G.MEDIUM,onClick:()=>a(e.identifier),isActive:e.identifier===t,key:`${e.identifier}-${l}`,image:e.thumbnailURI,label:e.name,style:{animationDelay:`${(0,o.Wa)(l)}s`}},r.createElement(n.O.CardLabel,{withBackground:!0},i.items[e.identifier]||e.name)))))}))),ce=class extends r.Component{constructor(){super(...arguments),this.onCategoryClick=e=>{const{stickerTool:t}=this.props;t.toggleCategorySelection(e)},this.renderItem=(e,t)=>{const{stickerTool:l}=this.props;return r.createElement(n.O.Card,{tool:o.E.STICKER,type:o.G.MEDIUM,onClick:()=>l.add(e.identifier),key:`${e.identifier}-${t}`,image:e.thumbnailURI,label:e.name,style:{backgroundSize:"55%",animationDelay:`${(0,o.Xa)(t)}s`}},r.createElement(n.O.CardLabel,{hidden:!0},l.locale.items[e.identifier]||e.name))},this.renderCategory=(e,t)=>{const{stickerTool:l}=this.props,{selectedCategoryIdentifier:a,locale:i}=l,c=a===e.identifier;return e.items?r.createElement(n.O.CategoryContainer,{key:e.identifier},r.createElement(n.O.Card,{tool:o.E.STICKER,type:o.G.LARGE,onClick:()=>this.onCategoryClick(e.identifier),image:e.thumbnailURI,label:e.name,style:{animationDelay:`${(0,o.Wa)(t)}s`}},r.createElement(n.O.CardLabel,{withBackground:!0},i.categories[e.identifier]||e.name)),r.createElement(n.O.ExpandableContainer,{show:c},e.items.map(this.renderItem))):null}}render(){const{stickerTool:e}=this.props,{categories:t,items:l,config:o}=e;return o.flattenCategories?r.createElement(n.O.CardContainer,null,l.map(this.renderItem)):r.createElement(n.O.CardContainer,null,t.map(this.renderCategory))}};ce=(0,o.c)([(0,n.c)("stickerTool","active"),n.a],ce);var se=a.ZP.div`
  font-size: 20px;
  position: absolute;
  left: 50%;
  top: 50%;
  transform-origin: left top;
`,me=class extends r.Component{constructor(){super(...arguments),this.getWidth=({fontFamily:e,fontStyle:t,fontWeight:l},n)=>{const o=document.createElement("canvas").getContext("2d");return o.font=`${t} ${l} 20px ${e}`,o.fillText(n,0,0),o.measureText(n).width},this.renderItem=(e,t)=>{const{config:l,textTool:a}=this.props,{fontFamily:i,fontWeight:c,fontStyle:s,identifier:m}=e,u=`${e.fontFamily} ${n.A.getDisplayFontStyle(e)}`,d=this.getWidth(e,u),E=(l.measurements.basicCard.medium.width-20)/d;return r.createElement(n.O.Card,{tool:o.E.TEXT,type:o.G.MEDIUM,onClick:()=>a.changeFont(m),isDisabled:!this.textTool.isTextSelected,isActive:a.identifier===m,key:`${e.identifier}-${t}`,label:u,style:{animationDelay:`${(0,o.Wa)(t)}s`}},r.createElement(se,{style:{transform:`scale(${E}) translate(-50%, -50%)`,fontFamily:i,fontStyle:s,fontWeight:c}},u))}}get textTool(){return this.props.textTool}render(){const{textTool:e}=this.props,{fontsLoaded:t,fontFamilies:l}=e;return t?r.createElement(n.O.CardContainer,null,l.map(this.renderItem)):null}},ue=(0,n.c)("textTool","config")((0,n.a)(me)),de=(0,n.c)("textDesignTool")((0,n.a)((({textDesignTool:e})=>{const{items:t,changeIdentifier:l,isTextDesignSelected:a,identifier:i}=e;return r.createElement(n.O.CardContainer,null,t.map(((e,t)=>r.createElement(n.O.Card,{tool:o.E.TEXT_DESIGN,type:o.G.MEDIUM,onClick:()=>l(e.identifier),isDisabled:!a,isActive:i===e.identifier,key:`${e.identifier}-${t}`,image:e.thumbnailURI,label:e.name,style:{animationDelay:`${(0,o.Wa)(t)}s`,backgroundSize:"60%"}},r.createElement(n.O.CardLabel,{hidden:!0},e.name)))))}))),Ee=a.ZP.div`
  svg {
    margin-bottom: 12px;
  }
`,he=a.ZP.div`
  svg {
    width: ${e=>e.theme.measurements.basicCard.medium.height}px;
    height: ${e=>e.theme.measurements.basicCard.medium.height}px;
  }

  ${n.s} {
    width: ${e=>e.theme.measurements.basicCard.medium.width-32}px;
    height: ${e=>e.theme.measurements.basicCard.medium.height-32}px;
    padding: 6px 0px 24px;
  }
`,pe=class extends r.Component{constructor(){super(...arguments),this.onCategoryClick=e=>{const{transformTool:t}=this.props;t.toggleCategorySelection(e)},this.renderItem=(e,t)=>{const{transformTool:l,config:a}=this.props,{locale:i,identifier:c}=l,s=l.checkIfTransformThumbnailExits(e.thumbnailURI),m=n.w.crops[e.identifier]||n.w.crops.imgly_transform_common_custom,u=r.createElement(n.O.CardLabel,null,i.items[e.identifier]||e.name),d=s?u:r.createElement(he,null,r.createElement(m,{main:a.theme.transform.crops.main,highlight:a.theme.transform.crops.highlight,shadow:a.theme.transform.crops.shadow}),u);return r.createElement(n.O.Card,{tool:o.E.TRANSFORM,type:o.G.MEDIUM,onClick:()=>l.changeIdentifier(e.identifier,!0),key:`${e.identifier}-${t}`,image:e.thumbnailURI,label:e.name,isActive:e.identifier===c,style:{backgroundSize:"55%",animationDelay:`${(0,o.Wa)(t)}s`}},d)},this.renderCategory=(e,t)=>{const{transformTool:l}=this.props,{selectedCategoryIdentifier:a,locale:i}=l,c=a===e.identifier;if(!e.items)return null;const s=l.checkIfTransformThumbnailExits(e.thumbnailURI),m=r.createElement(n.O.CardLabel,null,i.categories[e.identifier]||e.name),u=s?m:r.createElement(Ee,null,n.w.categories[e.identifier]&&r.createElement(n.w.categories[e.identifier]),m);return r.createElement(n.O.CategoryContainer,{key:e.identifier},r.createElement(n.O.Card,{tool:o.E.TRANSFORM,type:o.G.LARGE,onClick:()=>this.onCategoryClick(e.identifier),image:s?e.thumbnailURI:"",label:e.name,style:{animationDelay:`${(0,o.Wa)(t)}s`}},u),r.createElement(n.O.ExpandableContainer,{show:c},e.items.map(this.renderItem)))}}render(){const{transformTool:e}=this.props,{categories:t,config:l,items:o}=e;return l.flattenCategories?r.createElement(n.O.CardContainer,null,o.map(this.renderItem)):r.createElement(n.O.CardContainer,null,t.map(this.renderCategory))}};pe=(0,o.c)([(0,n.c)("transformTool","config"),n.a],pe);var Ce=(0,n.a)((function(){const{active:e,library:t,custom:l}=(0,n.r)(),a=e.tool,i=(0,r.useMemo)((()=>{switch(a){case o.E.LIBRARY:return r.createElement(ae,null);case o.E.FILTER:return r.createElement(le,null);case o.E.FOCUS:return r.createElement(ne,null);case o.E.ADJUSTMENT:return r.createElement(ee,null);case o.E.OVERLAY:return r.createElement(ie,null);case o.E.STICKER:return r.createElement(ce,null);case o.E.TEXT:return r.createElement(ue,null);case o.E.TEXT_DESIGN:return r.createElement(de,null);case o.E.FRAME:return r.createElement(oe,null);case o.E.TRANSFORM:return r.createElement(pe,null);case o.E.CUSTOM:return r.createElement(te,null);default:return null}}),[a]),c=l.getBasicToolItemsBar();return!c||a===o.E.BRUSH||a===o.E.LIBRARY&&!t.libraryProvider?null:r.createElement(c,{show:!!a},i)})),be=a.ZP.div`
  position: absolute;
  width: 100%;
  height: ${e=>e.theme.measurements.basicUIToolControlBar.maxHeight}px;
  bottom: 0;
  left: 0;
  background: ${e=>e.theme.webcam.backdrop};
  z-index: ${e=>e.theme.measurements.zIndex.disable};
`,ge=class extends r.Component{static getDerivedStateFromError(e){return console.error(e),{hasError:!0}}render(){const{active:e}=this.props;return r.createElement(n.o.Container,{"data-test":o.Sa.EditorContainer},e.isWebcam?r.createElement(be,null):null,r.createElement(n.I,null),r.createElement(n.y,null,r.createElement(n.D,null),r.createElement(n.L,null,e.isWebcam?r.createElement(n.K,null):null,e.image&&r.createElement(n.G,null)),r.createElement(q,null),r.createElement(Ce,null),r.createElement(i,null)))}};ge=(0,o.c)([(0,n.c)("active"),n.a],ge);var ye=class extends r.Component{constructor(){super(...arguments),this.componentWillUnmount=()=>{this.editor.cleanUpCanvasMemory()}}componentDidMount(){const{editor:e,storeProps:t}=this.props;this.editor=e,this.storeProps=t;const l=new n.H(this.editor.configStore.config.custom.components,{basicUIToolbar:n.O.Toolbar.Index,basicUIToolControlBar:n.O.Controlsbar,basicUIToolItemsBar:n.O.Itemsbar}),o={getDialog:l.getDialog,getButton:l.getButton,getColorItem:l.getColorItem,getCheckbox:l.getCheckbox,getBasicToolbar:l.getBasicToolbar,getBasicToolControlBar:l.getBasicToolControlBar,getBasicToolItemsBar:l.getBasicToolItemsBar};this.storeProps.custom=o,this.forceUpdate()}render(){return this.storeProps?r.createElement(n.b,{...this.storeProps},r.createElement(a.f6,{theme:{...this.editor.configStore.theme,measurements:this.editor.configStore.measurements}},r.createElement(ge,null))):null}}}}]);